DROP DATABASE `Bostadbäst`;
CREATE SCHEMA `Bostadbäst` DEFAULT CHARACTER SET latin1;
USE Bostadbäst;
create table `Bostadsrättsförening` (organisationsnummer integer NOT NULL UNIQUE ,
namn varchar(128) NOT NULL UNIQUE ,
multiplapplatser boolean NOT NULL ,
 PRIMARY KEY( organisationsnummer));
create table `Bostadsrättsgrupp` (bostadsrättsgruppsid integer NOT NULL UNIQUE AUTO_INCREMENT ,
namn varchar(128) NOT NULL ,
bostadsrättsförening integer NOT NULL REFERENCES Bostadsrättsförening(organisationsnummer),
 PRIMARY KEY( bostadsrättsgruppsid));
create table `Hus` (husid integer NOT NULL UNIQUE AUTO_INCREMENT ,
bostadsrättsförening integer NOT NULL REFERENCES Bostadsrättsförening(organisationsnummer),
gatuadress varchar(128) NOT NULL ,
postadress varchar(128) NOT NULL ,
byggår integer NOT NULL ,
 PRIMARY KEY( husid));
create table `Cykelrum` (cykelrumsid integer NOT NULL UNIQUE AUTO_INCREMENT ,
husid integer NOT NULL REFERENCES Hus(husid),
beteckning varchar(60) ,
yta integer NOT NULL ,
 PRIMARY KEY( cykelrumsid));
create table `Tvättstuga` (tvättstugeid integer NOT NULL UNIQUE AUTO_INCREMENT ,
husid integer NOT NULL REFERENCES Hus(husid),
beteckning varchar(60) ,
yta integer NOT NULL ,
 PRIMARY KEY( tvättstugeid));
create table `Maskin` (maskintyp varchar(128) NOT NULL ,
tvättstugeid integer NOT NULL REFERENCES Tvättstuga(tvättstugeid),
antal integer NOT NULL ,
 PRIMARY KEY( maskintyp, tvättstugeid));
create table `Hiss` (hissid integer NOT NULL UNIQUE AUTO_INCREMENT ,
beteckning varchar(25) ,
maxvikt integer NOT NULL ,
maxantalpersoner integer NOT NULL ,
husid integer NOT NULL REFERENCES Hus(husid),
 PRIMARY KEY( hissid));
create table `hissbesiktningsföretag` (organisationsnummer integer NOT NULL UNIQUE ,
namn varchar(128) NOT NULL UNIQUE ,
 PRIMARY KEY( organisationsnummer));
create table `Besiktning` (hissid integer NOT NULL REFERENCES Hiss(hissid),
datum date NOT NULL ,
hissbesiktningsföretag integer NOT NULL REFERENCES hissbesiktningsföretag(organisationsnummer),
 PRIMARY KEY( hissid, datum));
create table `Bostadsrätt` (bostadsrättsid integer NOT NULL UNIQUE AUTO_INCREMENT ,
husid integer NOT NULL REFERENCES Hus(husid),
lägenhetsnummer integer NOT NULL ,
yta integer NOT NULL ,
typ varchar(20) NOT NULL ,
våning integer NOT NULL ,
bostadsrättsgurppsid integer NOT NULL REFERENCES Bostadsrättsgrupp(bostadsrättsgruppsid),
 PRIMARY KEY( bostadsrättsid));
create table `Årsavgift` (verksamhetsår integer NOT NULL ,
bostadsrättsgruppsid integer NOT NULL REFERENCES Bostadsrättsgrupp(bostadsrättsgruppsid),
belopp integer NOT NULL ,
 PRIMARY KEY( verksamhetsår, bostadsrättsgruppsid));
create table `Person` (namn varchar(128) NOT NULL ,
personnummer BIGINT NOT NULL UNIQUE ,
 PRIMARY KEY( personnummer));
create table `Ägandeskap` (köpdatum date NOT NULL ,
säljdatum date ,
procentandel float NOT NULL ,
bostadsrättsid integer NOT NULL REFERENCES Bostadsrätt(bostadsrättsid),
person BIGINT NOT NULL REFERENCES Person(personnummer),
 PRIMARY KEY( köpdatum, bostadsrättsid, person));
create table `Parkeringsköplats` (bostadsrättsid integer NOT NULL REFERENCES Bostadsrätt(bostadsrättsid),
tidsstämpel integer NOT NULL ,
 PRIMARY KEY( bostadsrättsid));
create table `Parkeringsplatstyp` (bostadsrättsförening integer NOT NULL REFERENCES Bostadsrättsförening(organisationsnummer),
typid integer NOT NULL UNIQUE AUTO_INCREMENT ,
beskrivning varchar(50) NOT NULL ,
 PRIMARY KEY( typid));
create table `Köplatsrad` (typid integer NOT NULL REFERENCES Parkeringsplatstyp(typid),
bostadsrättsid integer NOT NULL REFERENCES Bostadsrätt(bostadsrättsid),
 PRIMARY KEY( typid, bostadsrättsid));
create table `Parkeringsårsavgift` (startår integer NOT NULL ,
typid integer NOT NULL REFERENCES Parkeringsplatstyp(typid),
pris integer NOT NULL ,
 PRIMARY KEY( startår, typid));
create table `Parkeringsplats` (nummer integer NOT NULL ,
typid integer NOT NULL REFERENCES Parkeringsplatstyp(typid),
gpskoordinat integer NOT NULL UNIQUE ,
bostadsrättsid integer UNIQUE REFERENCES Bostadsrätt(bostadsrättsid),
 PRIMARY KEY( nummer, typid));

INSERT INTO `Bostadsrättsförening` ( `organisationsnummer`, `namn`, `multiplapplatser`)
VALUES (769632,'Månen',false),
(234356,'Solen',false),
(324543,'Mars',false),
(757433,'Jupiter',false),
(984632,'Venus',true);
INSERT INTO `Bostadsrättsgrupp` ( `namn`, `bostadsrättsförening`)
VALUES ('2or',769632),
('3or',769632),
('4or',769632),
('4or bottenvåning',769632),
('grupp1',234356),
('grupp2',234356),
('grupp3',234356),
('stora',324543),
('små',324543),
('lgh',757433),
('lghgr. 1',984632),
('lghgr. 2',984632),
('lghgr. 3',984632);
INSERT INTO `Hus` ( `bostadsrättsförening`, `gatuadress`, `postadress`, `byggår`)
VALUES (769632,'Månvägen 1','12345',1976),
(769632,'Månvägen 2','12345',1974),
(769632,'Månvägen 24','12346',2005),
(769632,'Månvägen 25','12346',1990),
(234356,'Solens Slinga 3','12653',1598),
(234356,'Solens Slinga 5','12653',1999),
(324543,'Marsgatan 123','89244',1897),
(757433,'Jupiteslingan 67','12354',1987),
(757433,'Jupiteslingan 68','12356',2018),
(984632,'Venusgatan 1','14324',2000);
INSERT INTO `Cykelrum` ( `husid`, `beteckning`, `yta`)
VALUES (1,'lilla cykelrummet',35),
(1,'stora c',100),
(2,null,100),
(3,'"cykel"',120),
(3,'"cykel2"',100),
(6,null,30),
(7,null,50),
(10,'c söder',120),
(10,'c väster',100);
INSERT INTO `Tvättstuga` ( `husid`, `beteckning`, `yta`)
VALUES (1,null,120),
(2,'t. 1',120),
(2,'t. 2',100),
(6,null,50),
(7,'"tvätten"',60),
(9,null,65);
INSERT INTO `Maskin` ( `maskintyp`, `tvättstugeid`, `antal`)
VALUES ('tvättmaskin',1,4),
('torktumlare',1,3),
('tvättmaskin',2,2),
('torktumlare',2,1),
('mangel',2,120),
('tvättmaskin',3,4),
('torktumlare',3,4),
('tvättmaskin',4,4),
('torkskåp',4,1),
('torktumlare',4,4),
('tvättmaskin',5,4),
('torktumlare',5,4),
('tvättmaskin',6,4),
('torktumlare',6,4),
('mangel',6,1);
INSERT INTO `Hiss` ( `beteckning`, `maxvikt`, `maxantalpersoner`, `husid`)
VALUES (null,500,5,1),
(null,500,5,2),
(null,500,5,3),
(null,500,5,4),
(null,500,5,6),
('endast bostäder',500,5,7),
('källar',500,5,7),
(null,500,5,8),
(null,500,5,9),
(null,500,5,10);
INSERT INTO `hissbesiktningsföretag` ( `organisationsnummer`, `namn`)
VALUES (1823292,'hasses hiss'),
(3813392,'hiss AB'),
(5367732,'hissens hus');
INSERT INTO `Besiktning` ( `hissid`, `datum`, `hissbesiktningsföretag`)
VALUES (1,'1989-01-03',1823292);
INSERT INTO `Bostadsrätt` ( `husid`, `lägenhetsnummer`, `yta`, `typ`, `våning`, `bostadsrättsgurppsid`)
VALUES (1,1,79,'trea',1,1),
(1,2,100,'trea',1,1),
(1,3,120,'fyra',1,2),
(1,4,70,'trea',2,3),
(1,5,68,'trea',2,3),
(1,6,69,'trea',2,3),
(1,7,56,'tvåa',3,4),
(1,8,80,'fyra',3,5),
(1,9,220,'loft',4,6),
(1,10,79,'trea',1,1),
(2,11,79,'trea',1,1),
(2,12,100,'fyra',1,2),
(2,13,70,'trea',2,2),
(2,14,68,'trea',2,3),
(2,15,68,'trea',2,3),
(2,16,56,'tvåa',3,4),
(2,17,80,'fyra',3,5),
(3,18,200,'femma',1,7),
(3,19,200,'femma',2,8),
(4,20,200,'femma',1,7),
(5,1,50,'tvåa',1,9),
(5,2,48,'tvåa',1,9),
(5,3,52,'tvåa',1,9),
(5,4,50,'tvåa',2,10),
(5,5,55,'tvåa',2,10),
(5,6,44,'tvåa',2,10),
(5,7,51,'tvåa',3,11),
(6,8,50,'tvåa',3,11),
(6,9,48,'tvåa',1,9),
(6,10,52,'tvåa',1,9),
(6,11,50,'tvåa',1,9),
(6,12,55,'tvåa',2,10),
(6,13,44,'tvåa',2,10),
(6,14,51,'tvåa',3,11),
(7,1,60,'trea',1,12),
(7,2,62,'trea',1,12),
(7,3,60,'trea',2,13),
(7,4,65,'trea',2,13),
(8,1,120,'fyra',1,14),
(8,2,120,'fyra',1,14),
(9,3,120,'fyra',2,15),
(9,4,120,'fyra',2,15),
(10,1,500,'tia',1,16),
(10,2,500,'tia',1,16),
(10,3,500,'tia',1,16),
(10,4,500,'tia',1,16);
INSERT INTO `Årsavgift` ( `verksamhetsår`, `bostadsrättsgruppsid`, `belopp`)
VALUES (2018,1,10000),
(2018,2,7000),
(2018,3,12000),
(2018,4,16000),
(2018,5,7000),
(2018,6,12500),
(2018,7,10000),
(2018,8,10000),
(2018,9,15000),
(2018,10,12000),
(2018,11,8900),
(2018,12,32000),
(2018,13,10500),
(2018,14,15000),
(2018,15,16200),
(2018,16,12400),
(2019,1,11000),
(2019,2,7100),
(2019,3,14000),
(2019,4,12000),
(2019,5,5000),
(2019,6,16500),
(2019,7,12000),
(2019,8,8000),
(2019,9,18000),
(2019,10,11000),
(2019,11,8900),
(2019,12,33000),
(2019,13,10500),
(2019,14,16000),
(2019,15,12200),
(2019,16,17400);
INSERT INTO `Person` ( `namn`, `personnummer`)
VALUES ('Ryley Forrest',8801013684),
('James Parkinsonm',8801055354),
('Ryley Forrest',7801056099),
('Alex Steele',7801051397),
('Sid Henson',5501055734),
('Laiba Pruitt',5601056590),
('Mina Slater',5801053983),
('Coltaon Mccabe',6801056497),
('Khadeeja Morrison',6901059268),
('Valerie Gallagher',6910064184),
('Cherie Brett',7910106900),
('Teresa Rankin',7910054233),
('Leticia Holland',8605096596),
('Cem Hahn',8605109506),
('Hayleigh Christian',1010016978),
('Theon Bradley',1010019089),
('Eddison Swift',9012248192),
('Jaeden Nicholson',9912312353),
('Nikhil Leal',9003214534),
('Sachin Hancock',9103209814),
('Taha Cannon',8107154729),
('Caiden Barber',8208159817),
('Guy Mcfarlane',8208154024),
('Idris Chan',8708156305),
('Lynden Wilks',8207107049),
('Vincenzo Hartley',8202134345),
('Peggy Ellwood',7609129346),
('Mert Lees',7609166256);
INSERT INTO `Ägandeskap` ( `köpdatum`, `säljdatum`, `procentandel`, `bostadsrättsid`, `person`)
VALUES ('2019-01-10',null,100,1,8801013684),
('2018-01-03',null,100,2,8801055354),
('2019-05-17',null,100,5,7801056099),
('2018-10-25',null,100,10,7801051397),
('2019-05-03',null,100,12,5501055734),
('2019-06-05',null,100,11,5601056590),
('2019-10-03',null,100,9,5801053983),
('2019-12-03',null,100,30,6801056497),
('2019-07-13',null,100,25,6901059268),
('2019-12-23',null,100,33,6910064184),
('2019-08-05',null,100,11,7910106900),
('2019-04-17',null,100,14,7910054233),
('2019-01-03',null,100,16,8605096596),
('2019-11-11',null,100,23,8605109506),
('2018-04-03',null,100,22,9012248192),
('2019-03-03','2019-03-04',100,27,8208159817),
('2019-01-03',null,100,32,8202134345),
('2019-01-03',null,50,41,7609166256),
('2019-01-03',null,50,41,7609129346),
('2019-03-04',null,100,27,8207107049);
INSERT INTO `Parkeringsköplats` ( `bostadsrättsid`, `tidsstämpel`)
VALUES (10,1575918460),
(2,1575918461),
(41,1575918462),
(7,1575918463),
(16,1575918464),
(35,1575918466),
(32,1575918467),
(43,1575918467);
INSERT INTO `Parkeringsplatstyp` ( `bostadsrättsförening`, `beskrivning`)
VALUES (769632,'utomhus med el'),
(234356,'inomhus'),
(324543,'inomhus med el'),
(757433,'inomhus med el'),
(984632,'utomhus utan el'),
(984632,'utommhus med el'),
(984632,'inomhus utan el');
INSERT INTO `Köplatsrad` ( `typid`, `bostadsrättsid`)
VALUES (1,10),
(1,2),
(4,41),
(1,7),
(1,16),
(3,35),
(2,32),
(5,43),
(6,43),
(7,43);
INSERT INTO `Parkeringsårsavgift` ( `startår`, `typid`, `pris`)
VALUES (2018,1,500),
(2018,2,600),
(2018,3,450),
(2018,4,500),
(2018,5,600),
(2018,6,430),
(2018,7,300),
(2019,1,505),
(2019,2,605),
(2019,3,455),
(2019,4,505),
(2019,5,605),
(2019,6,435),
(2019,7,2999);
INSERT INTO `Parkeringsplats` ( `nummer`, `typid`, `gpskoordinat`, `bostadsrättsid`)
VALUES (1,1,12324,null),
(2,1,18923,null),
(3,1,34722,2),
(1,5,34728,null),
(2,6,32355,43),
(3,5,98733,46),
(4,7,25743,45);